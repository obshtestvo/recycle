
<!DOCTYPE html>
<html>
<style>
    body, html {
        height: 100%;
    }
    .hidden {
        display: none;
    }
</style>
<head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?v=3&amp;sensor=false"></script>
<script type="text/javascript" src="../js/jquery.animateContentSwitch.js"></script>
<script type="text/javascript" src="../js/infobox.js"></script>
<script type="text/javascript" src="../js/infoboxAnimated.js"></script>
<script type="text/javascript">
	$(function () {
		var secheltLoc = new google.maps.LatLng(49.47216, -123.76307);

		var myMapOptions = {
			 zoom: 15
			,center: secheltLoc
			,mapTypeId: google.maps.MapTypeId.ROADMAP
		};
		var theMap = new google.maps.Map(document.getElementById("map_canvas"), myMapOptions);
		var marker = new google.maps.Marker({
			map: theMap,
			draggable: true,
			position: new google.maps.LatLng(49.47216, -123.76307),
			visible: true
		});

        var $content = $('.info-container');
        $content.removeClass('hidden')

		var myOptions = {
			 content: $content.get(0)
			,pixelOffset: new google.maps.Size(-140, 0)
			,zIndex: null
			,boxStyle: {
			  background: "red url('../img/532px-TriangleArrow-Up.png') no-repeat center top"
			  ,opacity: 0.75
			  ,width: "280px"
			 }
			,closeBoxMargin: "10px 2px 2px 2px"
			,closeBoxURL: "http://www.google.com/intl/en_us/mapfiles/close.gif"
			,infoBoxClearance: new google.maps.Size(1, 1)
			,isHidden: false
			,pane: "floatPane"
			,enableEventPropagation: false
		};

		google.maps.event.addListener(marker, "click", function (e) {
			ib.open(theMap, this);
		});

		var ib = new InfoBoxAnimated(myOptions);

		ib.open(theMap, marker);
        setTimeout(function() {
            ib.switchContent($('.info-container'), $('.slide1'), $('.slide2'), 100)
        }, 1000)
    });
        /*var width = 200;
        setTimeout(function() {
            setInterval(function(){
                width += 2;
                ib.newWidth = width;
                ib.pixelOffset_ =  new google.maps.Size(-width/2, 0);
                ib.draw();
            },20)
        }, 1000)
    $(function() {
        $('#ani').animate(
        {
            opacity: 0.25,
            width: 800
        },
        {
            step: function(val, meta) {
                if (meta.prop!='width') return;
                //position changes with width
                //val
            }
        });
    })*/
</script>

<title>Creating and Using an InfoBox</title>
</head>
<body>
<div class="info-container hidden">
    <div class="slide1" style="border: 1px solid black; margin-top: 8px; background: yellow; padding: 5px;">
        City Hall, Sechelt<br>British Columbia<br>Canada
    </div>
    <div class="slide2" style="display:none; border: 1px solid black; width:300px;margin-top: 8px; background: yellow; padding: 5px;">
        AsdASD <br/>
        AsdASD <br/>
        AsdASD <br/>
        AsdASD <br/>
        AsdASD <br/>
        AsdASD <br/>
        AsdASD <br/>
        AsdASD <br/>
        AsdASD <br/>
        AsdASD <br/>
        AsdASD <br/>
        AsdASD <br/>
    </div>
</div>
<div id="map_canvas" style="width: 100%; height: 100%"></div>
	<p>
	This example shows the "traditional" use of an InfoBox as a replacement for an InfoWindow.
</body>

</html>
